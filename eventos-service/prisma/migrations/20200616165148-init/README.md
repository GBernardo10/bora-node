# Migration `20200616165148-init`

This migration has been generated by GBernardo10 at 6/16/2020, 4:51:48 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Event" (
"address" text  NOT NULL ,"category" text []  ,"created_at" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"description" text   ,"end_time" timestamp(3)   ,"id" text  NOT NULL ,"isPublic" boolean  NOT NULL DEFAULT true,"is_free" boolean  NOT NULL DEFAULT true,"name" text  NOT NULL ,"owner" text  NOT NULL ,"password" text   ,"price" Decimal(65,30)  NOT NULL DEFAULT 0,"privacy" "PrivacyEnum" NOT NULL DEFAULT E'public',"start_day" timestamp(3)  NOT NULL ,"start_end" timestamp(3)  NOT NULL ,"start_time" timestamp(3)   ,"street_number" integer  NOT NULL ,"updated_at" timestamp(3)  NOT NULL ,"zipcode" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."EventGuest" (
"created_at" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"event_fk" text  NOT NULL ,"id" text  NOT NULL ,"updated_at" timestamp(3)  NOT NULL ,"username" text  NOT NULL ,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."EventGuest" ADD FOREIGN KEY ("event_fk")REFERENCES "public"."Event"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200616165148-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,47 @@
+generator client {
+  provider = "prisma-client-js"
+}
+
+datasource db {
+  provider = "postgresql"
+  url      = env("DATABASE_URL")
+}
+
+model Event {
+  id             String @default(uuid()) @id
+  name           String
+  owner          String
+  description    String?
+  address        String
+  category       String[]
+  createdAt     DateTime  @default(now()) @map("created_at")
+  endTime       DateTime? @map("end_time")
+  isFree        Boolean @default(true) @map("is_free")
+  isPublic      Boolean @default(true)
+  password       String?
+  price          Float  @default(0)
+  privacy        PrivacyEnum @default(public)
+  startDay      DateTime  @map("start_day")
+  startEnd      DateTime  @map("start_end")
+  startTime     DateTime? @map("start_time")
+  streetNumber  Int @map("street_number")
+  updatedAt     DateTime  @updatedAt() @map("updated_at")
+  zipcode        String
+  eventGuest EventGuest[]
+}
+
+model EventGuest {
+  createdAt DateTime @default(now()) @map("created_at")
+  eventFk   String  @map("event_fk")
+  id         String   @default(uuid()) @id
+  updatedAt DateTime @updatedAt() @map("updated_at")
+  username   String
+  Event   Event @relation(fields: [eventFk], references: [id])
+}
+
+enum PrivacyEnum {
+  onlyFriendsOfFriends @map("only friends of friends")
+  onlyFrinds @map("only frinds")
+  private
+  public
+}
```


